@model IEnumerable<Thinh.Models.Product>
@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Index</h2>

<p>
    <a asp-action="Create">Create New</a>
</p>
<table class="table ">   
    <tbody>
        @{int rows = Model.Count() / 3; }
        
        @for (int i = 0; i <= rows; i++)
        {
        <tr>
            <th class="col-md-3">
                <a asp-action="Details" asp-route-id="@Model.ElementAt(i * 3).productId">
                    <img width="200" height="200" src="@Html.DisplayFor(model => Model.ElementAt(i * 3).productImgUrl)" /><br />
                    @Html.DisplayFor(model => Model.ElementAt(i * 3).productName)
                </a>
                <p>
                    @Html.DisplayFor(model => Model.ElementAt(i * 3).Price)
                </p>
            </th>
            @if(i*3+1== Model.Count()) {break;}
        <th class="col-md-3">
            <a asp-action="Details" asp-route-id="@Model.ElementAt(i * 3+1).productId">
                <img width="200" height="200" src="@Html.DisplayFor(model => Model.ElementAt(i * 3+1).productImgUrl)" /><br />
                @Html.DisplayFor(model => Model.ElementAt(i * 3 + 1).productName)
            </a>
            <p>
                @Html.DisplayFor(model => Model.ElementAt(i * 3 + 1).Price)
            </p>
        </th>
            @if(i*3+2== Model.Count()) {break;}
        <th class="col-md-3">
            <a asp-action="Details" asp-route-id="@Model.ElementAt(i * 3+2).productId">
                <img width="200" height="200" src="@Html.DisplayFor(model => Model.ElementAt(i * 3+2).productImgUrl)" /><br />
                @Html.DisplayFor(model => Model.ElementAt(i * 3 + 2).productName)
            </a>
            <p>
                @Html.DisplayFor(model => Model.ElementAt(i * 3 + 2).Price)
            </p>
        </th>
        </tr>

        }
        @*<table class="table">
            <thead>
                <tr>
                    <th>
                        @Html.DisplayNameFor(model => model.productCode)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.productName)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.productTypeName)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.productUrl)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.productDescription)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.productImg)
                    </th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
        @foreach (var item in Model) {
                <tr>
                    <td>
                        @Html.DisplayFor(modelItem => item.productCode)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.productName)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.productTypeName)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.productUrl)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.productDescription)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.productImg)
                    </td>
                    <td>
                        <a asp-action="Edit" asp-route-id="@item.productId">Edit</a> |
                        <a asp-action="Details" asp-route-id="@item.productId">Details</a> |
                        <a asp-action="Delete" asp-route-id="@item.productId">Delete</a>
                    </td>
                </tr>
        }*@
    </tbody>
</table>
