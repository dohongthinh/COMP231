@model IEnumerable<Thinh.Models.Product>
@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Index</h2>
<hr/>
<div class="row">
    @{ for (int i = 0; i < Model.Count(); i++)
        {
        <div style="min-height: 300px;" class="col-md-4">
            <a asp-controller="Home" asp-action="Details" asp-route-id="@Model.ElementAt(i).productId">
                <img width="300" height="300" src="@Html.DisplayFor(model => Model.ElementAt(i).productImgUrl)" /><br />
                @Html.DisplayFor(model => Model.ElementAt(i).productName)
            </a>
            <p>
                @Html.DisplayFor(model => Model.ElementAt(i).Price)
            </p>
            <a class="btn btn-primary" asp-controller="Home" asp-action="Wish" asp-route-id="@Model.ElementAt(i).productId">Add to Wishlist</a>
            @{int test = Convert.ToInt32(@ViewData["Admin"]);
                if (test == 1)
                {
                    <a class="btn btn-secondary" asp-controller="Account" asp-action="DeleteProduct" asp-route-id="@Model.ElementAt(i).productId">Remove</a>
                }
            }
        </div>
            if (i != 0 && (i) % 3 == 2)
            {
            <div class="w-100 d-none d-md-block">
                <hr />
            </div>
            }
        }
    }
</div>
@*@{int rows = Model.Count() / 3;}

    @for (int i = 0; i <= rows; i++)    
    {
        <hr />
        <div class="row">
            <div class="col-md-4">
                <a asp-action="Details" asp-route-id="@Model.ElementAt(i * 3).productId">
                    <img width="200" height="200" src="@Html.DisplayFor(model => Model.ElementAt(i * 3).productImgUrl)" /><br />
                    @Html.DisplayFor(model => Model.ElementAt(i * 3).productName)
                </a>
                <p>
                    @Html.DisplayFor(model => Model.ElementAt(i * 3).Price)
                </p>
            </div>
            @if (i * 3 + 1 == Model.Count()) { break; }
            <div class="col-md-4">
                <a asp-action="Details" asp-route-id="@Model.ElementAt(i * 3+1).productId">
                    <img width="200" height="200" src="@Html.DisplayFor(model => Model.ElementAt(i * 3+1).productImgUrl)" /><br />
                    @Html.DisplayFor(model => Model.ElementAt(i * 3 + 1).productName)
                </a>
                <p>
                    @Html.DisplayFor(model => Model.ElementAt(i * 3 + 1).Price)
                </p>
            </div>
            @if (i * 3 + 2 == Model.Count()) { break; }
            <div class="col-md-4    ">
                <a asp-action="Details" asp-route-id="@Model.ElementAt(i * 3+2).productId">
                    <img width="200" height="200" src="@Html.DisplayFor(model => Model.ElementAt(i * 3+2).productImgUrl)" /><br />
                    @Html.DisplayFor(model => Model.ElementAt(i * 3 + 2).productName)
                </a>
                <p>
                    @Html.DisplayFor(model => Model.ElementAt(i * 3 + 2).Price)
                </p>
            </div>
        </div>

        }*@
